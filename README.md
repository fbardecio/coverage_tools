# Coverage Tools

![coverage][coverage_badge]
[![style: very good analysis][very_good_analysis_badge]][very_good_analysis_link]
[![License: MIT][license_badge]][license_link]

Generated by the [Very Good CLI][very_good_cli_link] ðŸ¤–

A Very Good Project created by Very Good CLI.

---

## Badges
<!-- coverage:ignore -->
Main library: <img src="./coverage_badge.svg" alt="Main Library Coverage">
form_inputs: <img src="packages/form_inputs/coverage_badge.svg" alt="form_inputs Coverage">
storage: <img src="packages/storage/coverage_badge.svg" alt="storage Coverage">


## Description

This is an example project for demonstrating how to use the `run_all_coverage` script.

This script takes care of running the tests and generating the coverage report for the `lib` folder and for each package under the packages folder.
For this example app, the tests will be run for the `lib` folder and for the `form_inputs` and `storage` packages.
After running the tests, the script will generate the coverage report for the aforementioned folders and packages, and will update the `README.md` file with the coverage badges and the percentage of coverage for each folder and package.
Finally it will open the `lib` folder coverage report on the browser.

:red_circle: **Important**: This package requires that the `README.md` file contains the following text, without the `/` at the beginning, we are adding the `/` to avoid the coverage script adding the coverage badges under this line:
```
/<!-- coverage::ignore -->
```


## Usage
These are the steps needed in order to run the `run_all_coverage` script:

1 - Install lcov ([lcov](https://github.com/linux-test-project/lcov)):
```brew install lcov```

2 - Install lcov-to-badge-cli globally:
```npm install lcov2badge```

3 - Run `run_coverage.sh` script:
```sh run_all_coverage.sh```

4 - Optionally, add these folders to the `.gitignore` file:
```
# Coverage
coverage/
packages/*/coverage/

# Node modules
node_modules/
package-lock.json
package.json
```

To run the script, execute the following command:
```
sh run_all_coverage.sh
```

:tada: **Congratulations!** The coverage report has been generated and the `README.md` file has been updated with the coverage badges and the percentage of coverage for each folder and package.


[coverage_badge]: coverage_badge.svg
[flutter_localizations_link]: https://api.flutter.dev/flutter/flutter_localizations/flutter_localizations-library.html
[internationalization_link]: https://flutter.dev/docs/development/accessibility-and-localization/internationalization
[license_badge]: https://img.shields.io/badge/license-MIT-blue.svg
[license_link]: https://opensource.org/licenses/MIT
[very_good_analysis_badge]: https://img.shields.io/badge/style-very_good_analysis-B22C89.svg
[very_good_analysis_link]: https://pub.dev/packages/very_good_analysis
[very_good_cli_link]: https://github.com/VeryGoodOpenSource/very_good_cli
